--
-- IupFlatLabel.exw
--
include pGUI.e

constant TEST_IMAGE_SIZE = 20

constant image_data_8 = 
{
  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
  5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,
  5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,
  5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,
  5,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,0,0,0,5, 
  5,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,0,0,0,5, 
  5,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,0,0,0,5, 
  5,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,0,0,0,5, 
  5,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,0,0,0,5, 
  5,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,0,0,0,5, 
  5,0,0,0,3,3,3,3,3,3,4,4,4,4,4,4,0,0,0,5, 
  5,0,0,0,3,3,3,3,3,3,4,4,4,4,4,4,0,0,0,5, 
  5,0,0,0,3,3,3,3,3,3,4,4,4,4,4,4,0,0,0,5, 
  5,0,0,0,3,3,3,3,3,3,4,4,4,4,4,4,0,0,0,5, 
  5,0,0,0,3,3,3,3,3,3,4,4,4,4,4,4,0,0,0,5, 
  5,0,0,0,3,3,3,3,3,3,4,4,4,4,4,4,0,0,0,5,
  5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,
  5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,
  5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,
  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
}

constant image_data_24 = 
{
  000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,
  000,000,000,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000,
  000,000,000,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000,
  000,000,000,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000,
  000,000,000,255,255,255,255,255,255,255,255,255,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000, 
  000,000,000,255,255,255,255,255,255,255,255,255,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000, 
  000,000,000,255,255,255,255,255,255,255,255,255,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000, 
  000,000,000,255,255,255,255,255,255,255,255,255,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000, 
  000,000,000,255,255,255,255,255,255,255,255,255,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000, 
  000,000,000,255,255,255,255,255,255,255,255,255,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000, 
  000,000,000,255,255,255,255,255,255,255,255,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000, 
  000,000,000,255,255,255,255,255,255,255,255,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000, 
  000,000,000,255,255,255,255,255,255,255,255,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000, 
  000,000,000,255,255,255,255,255,255,255,255,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000, 
  000,000,000,255,255,255,255,255,255,255,255,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000, 
  000,000,000,255,255,255,255,255,255,255,255,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,000,000,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000,
  000,000,000,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000,
  000,000,000,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000,
  000,000,000,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,000,000,000,
  000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,
}

constant image_data_32 = 
{
  000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255,
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255,
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255,
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255, 
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255, 
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255, 
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255, 
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255, 
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255, 
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255, 
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255, 
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255, 
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255, 
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255, 
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,000,000,255,255,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,255,255,255,192,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255,
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255,
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255,
  000,000,000,255,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,255,
  000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,000,000,000,255,
}

function button_cb(Ihandle ih, integer but, pressed, x, y, atom pStatus)
  printf(1,"BUTTON_CB(but=%c (%d), x=%d, y=%d [%s])\n", {but, pressed, x, y, peek_string(pStatus)})
  return IUP_DEFAULT
end function

--/*
function enter_cb(Ihandle ih)
  Ihandle box = IupGetChild(ih, 0)
  if IupGetInt(box, "ACTIVE") then
    IupSetAttribute(box, "ACTIVE", "NO")
  else
    IupSetAttribute(box, "ACTIVE", "YES")
  end if
  return IUP_DEFAULT
end function

function leavewindow_cb(Ihandle ih)
  printf(1,"LEAVEWINDOW_CB(%s)\n", IupGetAttribute(ih, "TITLE"))
  return IUP_DEFAULT
end function

function enterwindow_cb(Ihandle ih)
  printf(1,"ENTERWINDOW_CB(%s)\n", IupGetAttribute(ih, "TITLE"))
  return IUP_DEFAULT
end function
--*/

procedure FlatLabelTest()
  Ihandle dlg, label, image1, image2, image3, 
          box1, box2, fill

  box1 = IupVbox()
  IupSetAttribute(box1, "MARGIN", "5x5")
  IupSetAttribute(box1, "GAP", "5")
  IupSetAttribute(box1, "BGCOLOR", "75 150 170")  /* label must be transparent for BGCOLOR */
  IupSetAttribute(box1, "PADDING", "5x5")

  label = IupFlatLabel(NULL)
  if IupGetInt(NULL, "UTF8MODE") then
    IupSetAttribute(label, "TITLE", "Text Labels (çãõáóé §£µ¡³©)")
  else
    IupSetAttribute(label, "TITLE", "Text Labels (no utf8)")
  end if
  //IupSetAttribute(label, "BGCOLOR", IupGetGlobal("DLGBGCOLOR"))
  IupSetAttribute(label, "PADDING", "0x0")
  IupSetAttribute(label, "TIP", "Text Label")
  IupAppend(box1, label)
//  IupSetCallback(label, "ENTERWINDOW_CB", (Icallback)enterwindow_cb)
//  IupSetCallback(label, "LEAVEWINDOW_CB", (Icallback)leavewindow_cb)
//  IupSetAttribute(label, "PADDING", "20x20")

  label = IupLabel(NULL)
  IupSetAttribute(label, "SEPARATOR", "HORIZONTAL")
  IupAppend(box1, label)
//  IupSetCallback(label, "ENTERWINDOW_CB", (Icallback)enterwindow_cb)
//  IupSetCallback(label, "LEAVEWINDOW_CB", (Icallback)leavewindow_cb)

  label = IupFlatLabel(NULL)
  IupSetAttribute(label, "TITLE", "Text &Label\nSecond Line")
  IupSetAttribute(label, "FGCOLOR", "0 0 255")
  IupSetAttribute(label, "RASTERSIZE", "250x100")
//  IupSetAttribute(label, "RASTERSIZE", "150x70")
//  IupSetAttribute(label, "RASTERSIZE", "30x70")
//  IupSetAttribute(label, "WORDWRAP", "YES")
//  IupSetAttribute(label, "ELLIPSIS", "YES")
  IupSetAttribute(label, "ALIGNMENT", "ALEFT:ATOP")
  IupAppend(box1, label)
//  IupSetCallback(label, "ENTERWINDOW_CB", (Icallback)enterwindow_cb)
//  IupSetCallback(label, "LEAVEWINDOW_CB", (Icallback)leavewindow_cb)

  label = IupFlatLabel(NULL)
  IupSetAttribute(label, "TITLE", "Text\nSecond Line")
//  IupSetAttribute(label, "RASTERSIZE", "150x70")
  IupSetAttribute(label, "RASTERSIZE", "250x100")
  IupSetAttribute(label, "ALIGNMENT", "ACENTER:ACENTER")
  IupSetAttribute(label, "FONT", "Helvetica, 12")
//  IupSetAttribute(label, "FONT", "Helvetica, Underline 14")
//  IupSetAttribute(label, "FONTSIZE", "14")
//  IupSetAttribute(label, "FONTSTYLE", "Italic")
//  IupSetAttribute(label, "FONTSTYLE", "Bold")
  IupAppend(box1, label)
//  IupSetCallback(label, "ENTERWINDOW_CB", (Icallback)enterwindow_cb)
//  IupSetCallback(label, "LEAVEWINDOW_CB", (Icallback)leavewindow_cb)

  label = IupFlatLabel(NULL)
  IupSetAttribute(label, "TITLE", "Text\nSecond Line")
//  IupSetAttribute(label, "RASTERSIZE", "150x70")
  IupSetAttribute(label, "RASTERSIZE", "250x100")
  IupSetAttribute(label, "ALIGNMENT", "ARIGHT:ABOTTOM")
//  IupSetCallback(label, "ENTERWINDOW_CB", enter1_cb)
  IupAppend(box1, label)
//  IupSetCallback(label, "ENTERWINDOW_CB", (Icallback)enterwindow_cb)
//  IupSetCallback(label, "LEAVEWINDOW_CB", (Icallback)leavewindow_cb)

  box2 = IupVbox()
  IupSetAttribute(box2, "MARGIN", "5x5")
  IupSetAttribute(box2, "GAP", "5")
  IupSetAttribute(box2, "BGCOLOR", "75 150 170")
//  IupSetAttribute(box2, "PADDING", "5x5")

  image1 = IupImage(TEST_IMAGE_SIZE, TEST_IMAGE_SIZE, image_data_8)
  IupSetAttribute(image1, "0", "BGCOLOR")
  IupSetAttribute(image1, "1", "255 0 0") 
  IupSetAttribute(image1, "2", "0 255 0")
  IupSetAttribute(image1, "3", "0 0 255") 
  IupSetAttribute(image1, "4", "255 255 255") 
  IupSetAttribute(image1, "5", "0 0 0") 

  label = IupFlatLabel(NULL)
  IupSetAttributeHandle(label, "IMAGE", image1)
  //IupSetAttribute(label, "IMAGE", "TECGRAF_BITMAP")
  //IupSetAttribute(label, "IMAGE", "../test/tecgraf.bmp")
  //IupSetAttribute(label, "IMAGE", "../test/file_large.xbm")
  //IupSetAttribute(label, "IMAGE", "gtk-open")
  //IupSetAttribute(label, "BGCOLOR", IupGetGlobal("DLGBGCOLOR"))
  IupSetAttribute(label, "PADDING", "0x0")
  IupSetAttribute(label, "TIP", "Image Label")
  IupAppend(box2, label)

  label = IupLabel(NULL)
  IupSetAttribute(label, "SEPARATOR", "HORIZONTAL")
  IupAppend(box2, label)

  fill = IupFill()
  IupSetAttribute(fill, "SIZE", "20")
  //IupAppend(box2, fill)

  label = IupFlatLabel(NULL)
  IupSetAttributeHandle(label, "IMAGE", image1)
//  IupSetAttribute(label, "RASTERSIZE", "150x50")
  IupSetAttribute(label, "RASTERSIZE", "250x100")
//  IupSetAttribute(label, "ALIGNMENT", "ALEFT")
  IupAppend(box2, label)

  image2 = IupImageRGB(TEST_IMAGE_SIZE, TEST_IMAGE_SIZE, image_data_24)

  label = IupFlatLabel(NULL)
  IupSetAttributeHandle(label, "IMAGE", image2)
//  IupSetAttribute(label, "RASTERSIZE", "150x50")
  IupSetAttribute(label, "RASTERSIZE", "250x100")
  IupSetAttribute(label, "ALIGNMENT", "ACENTER")
  IupAppend(box2, label)

  image3 = IupImageRGBA(TEST_IMAGE_SIZE, TEST_IMAGE_SIZE, image_data_32)

  label = IupFlatLabel(NULL)
  IupSetAttributeHandle(label, "IMAGE", image3)
  IupSetAttribute(label, "RASTERSIZE", "250x100")
//  IupSetAttribute(label, "RASTERSIZE", "150x50")
  IupSetAttribute(label, "ALIGNMENT", "ARIGHT")
  IupSetCallback(label, "BUTTON_CB", Icallback("button_cb"))
  IupAppend(box2, label)

  label = IupFlatLabel(NULL)
  IupSetAttribute(label, "TITLE", "Very Long Text with_many characters and lots of words.")
//  IupSetAttribute(label, "TEXTELLIPSIS", "Yes")
  IupSetAttribute(label, "TEXTWRAP", "Yes")
  IupSetAttribute(label, "RASTERSIZE", "250x100")
  //  IupSetAttribute(label, "RASTERSIZE", "250x100")
  //  IupSetAttribute(label, "RASTERSIZE", "150x50")
//  IupSetAttribute(label, "ALIGNMENT", "ARIGHT")
  IupAppend(box2, label)

  label = IupLabel(NULL)
  IupSetAttribute(label, "SEPARATOR", "VERTICAL")

  dlg = IupDialog(IupHbox({box1, label, box2}))
  IupSetAttribute(dlg, "TITLE", "IupFlatLabel Test")
//  IupSetAttribute(dlg, "BACKGROUND", "0 0 128")
//  IupSetAttributeHandle(dlg, "BACKGROUND", image2)
//  IupSetCallback(dlg, "ENTERWINDOW_CB", enter_cb)
//  IupSetAttribute(dlg, "FONT", "Helvetica, Bold 12")

  IupShow(dlg)
//  IupShowXY(dlg,IUP_LEFT,IUP_BOTTOM)
end procedure

IupOpen()
IupSetGlobalInt("UTF8MODE",true)
IupImageLibOpen()
FlatLabelTest()
IupMainLoop()
IupClose()


